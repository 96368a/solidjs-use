import{z as b,u as h,A as p,o as w,B as D}from"./index-6db96aa9.js";function O(s,i){function r(...e){return new Promise((n,t)=>{Promise.resolve(s(()=>i.apply(this,e),{fn:i,thisArg:this,args:e})).then(n).catch(t)})}return r}const j=s=>s();function W(s,i={}){let r,e,n=w;const t=u=>{clearTimeout(u),n(),n=w},o=D();return u=>{const c=h(s),a=h(i.maxWait);return r&&t(r),c<=0||a!==void 0&&a<=0?(e&&(t(e),e=null),new Promise(l=>{p(o,()=>{l(u())})})):new Promise((l,T)=>{n=i.rejectOnCancel?T:l,a&&!e&&(e=setTimeout(()=>{r&&t(r),e=null,l(u())},a)),r=setTimeout(()=>{e&&t(e),e=null,l(u())},c)})}}function g(s,i=!0,r=!0,e=!1){let n=0,t,o=!0,f=w,u;const c=D(),a=()=>{t&&(clearTimeout(t),t=void 0,f(),f=w)};return T=>{const m=h(s),F=Date.now()-n,d=()=>u=T();if(a(),m<=0){n=Date.now(),p(c,()=>{d()});return}if(F>m&&(r||!o))n=Date.now(),p(c,()=>{d()});else if(i){const x=m-F;return new Promise((A,P)=>{f=e?P:A,t=setTimeout(()=>{n=Date.now(),o=!0,p(c,()=>{A(d())}),a()},x<0?0:x)})}return!r&&!t&&(t=setTimeout(()=>o=!0,m)),o=!1,u}}function y(s=j){const[i,r]=b(!0);function e(){r(!1)}function n(){r(!0)}return{isActive:i,pause:e,resume:n,eventFilter:(...o)=>{i()&&s(...o)}}}export{j as b,O as c,W as d,y as p,g as t};
